<Window x:Class="TaskManager.Views.MainView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:v="clr-namespace:TaskManager.Views"
        xmlns:vm="clr-namespace:TaskManager.ViewModels"
        xmlns:cc="clr-namespace:TaskManager.CustomControls"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Title="MainView" Height="650" Width="900"
        DataContext="{Binding RelativeSource={RelativeSource Self}}"
        d:DataContext="{d:DesignInstance Type=vm:MainViewModel, IsDesignTimeCreatable=False}">
    <Window.Resources>
        <DataTemplate DataType="{x:Type vm:DetailsViewModel}">
            <v:DetailsView />
        </DataTemplate>
        
        <ControlTemplate TargetType="cc:CustomButton" x:Key="CustomButtonTemplate">
            <Border CornerRadius="5"
                    Margin="5"
                    Background="{TemplateBinding Background}">
                <Grid VerticalAlignment="Center">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <Label Grid.Column="0"
                           FontSize="12"
                           Padding="6 8 0 0"
                           Margin="6 0"
                           Foreground="{TemplateBinding Foreground}"
                           Content="{TemplateBinding Icon}" />
                    
                    <Label Grid.Column="1"
                           Margin="2 0"
                           FontSize="15"
                           Content="{TemplateBinding Content}"
                           Foreground="{TemplateBinding Foreground}" />
                    
                </Grid>
            </Border>
        </ControlTemplate>
        
        <ControlTemplate TargetType="cc:CustomButton" x:Key="ActiveCustomButtonTemplate">
            <Border CornerRadius="5"
                    Margin="5"
                    Background="{TemplateBinding Background}">
                <Grid VerticalAlignment="Center">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <Border Grid.Column="0"
                            Width="3.7"
                            Margin="0 2.3 0 0"
                            Height="18"
                            CornerRadius="3"
                            Background="#3DECFF" />
                    
                    <Label Grid.Column="1"
                           FontSize="12"
                           Padding="6 8 0 0"
                           Margin="2.3 0 6 0"
                           Foreground="{TemplateBinding Foreground}"
                           Content="{TemplateBinding Icon}" />
                    
                    <Label Grid.Column="2"
                           Margin="2 0"
                           FontSize="15"
                           Content="{TemplateBinding Content}"
                           Foreground="{TemplateBinding Foreground}" />
                    
                </Grid>
            </Border>
        </ControlTemplate>
        
        <Style x:Key="NavigationButton" TargetType="cc:CustomButton">
            <Style.Setters>
                <Setter Property="Template" Value="{StaticResource CustomButtonTemplate}"/>
                <Setter Property="Background" Value="{DynamicResource Primary}"/>
                <Setter Property="Foreground" Value="{DynamicResource PrimaryFont}"/>
            </Style.Setters>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="{DynamicResource NavigationColor}"/>
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="{DynamicResource PressedNavigationColor}" />
                    <Setter Property="Foreground" Value="{DynamicResource PressedFontColor}" />
                </Trigger>
                <Trigger Property="IsActive" Value="True">
                    <Setter Property="Template" Value="{StaticResource ActiveCustomButtonTemplate}"/>
                    <Setter Property="Background" Value="{DynamicResource NavigationColor}"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>
    
    <Grid Background="{DynamicResource Primary}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition />
        </Grid.ColumnDefinitions>

        <Grid Column="0"
              Width="Auto">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto"/>
                <RowDefinition />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            
            <cc:CustomButton Grid.Row="0"
                             Style="{StaticResource NavigationButton}"
                             Width="50"
                             HorizontalAlignment="Left"
                             Height="50"
                             Content=""
                             Command="{Binding MenuButtonCommand}"
                             Icon="{materialDesign:PackIcon Kind=Menu}" />
            
            <cc:CustomButton Grid.Row="1"
                             IsActive="{Binding IsDetailsActive}"
                             Style="{StaticResource NavigationButton}"
                             Width="{Binding ButtonWidth}"
                             Height="50"
                             Content="Details"
                             Command="{Binding DetailsButtonCommand}"
                             Icon="{materialDesign:PackIcon Kind=FormatListBulleted}" />
            
            <cc:CustomButton Grid.Row="3"
                             IsActive="{Binding IsSettingsActive}"
                             Style="{StaticResource NavigationButton}"
                             Width="{Binding ButtonWidth}"
                             Height="50"
                             Content="Settings"
                             Command="{Binding SettingsButtonCommand}"
                             Icon="{materialDesign:PackIcon Kind=Settings}" />
        </Grid>
        
        <ContentPresenter Grid.Column="1" Content="{Binding ViewModel}"/>
        
    </Grid>
</Window>
